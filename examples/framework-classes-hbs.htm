<!doctype html>
<html
    lang="en"
    data-show-errors>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Framework Classes and ES6 Examples - Handlebars</title>
        <link rel="stylesheet" href="css/app-layout-1.css">
    </head>
    <body>
        <header>
            <nav>
                <a class="active" href="#/">Home</a>
                <a href="#/calc">Calculator</a>
            </nav>
        </header>

        <main id="view" class="container"></main>

        <template id="loading-screen">
            <h3 class="loading">Loading...</h3>
        </template>

        <script type="text/x-template" data-engine="handlebars" id="error-screen">
            <h3 class="error">{{errorMessage}}</h3>
        </script>

        <template data-route="/">
            <section class="max-width-500">
                <h1>DataFormsJS Framework Demo using Handlebars with ES6 Code and JavaScript Classes</h1>
            </section>
        </template>

        <template
            data-route="/calc"
            data-page="calculator"
            data-lazy-load="Calculator, dataBind">

            <section class="flex-col-600">
                <input data-bind="currentX" placeholder="Value X" size="7">
                <select data-bind="currentOp">
                    <option value="+">Add (+)</option>
                    <option value="-">Subtract (-)</option>
                    <option value="*">Multiply (*)</option>
                    <option value="/">Divide (/)</option>
                </select>
                <input data-bind="currentY" placeholder="Value Y" size="7">
                <button>Calculate</button>
            </section>

            <div data-template-id="calc-result"></div>
        </template>

        <script
            id="calc-result"
            type="text/x-template"
            data-engine="handlebars">

            {{#if results}}
            <section class="calc-result">
                <ul class="record-list">
                    {{#each results}}
                        <li {{#if hasError}}class="error"{{/if}}>{{x}} {{op}} {{y}} = {{z}}</li>
                    {{/each}}
                </ul>
            </section>
        {{/if}}
        </script>

        <!--
            Handlebars
            https://handlebarsjs.com/
        -->
        <script src="https://cdn.jsdelivr.net/npm/handlebars@4.7.6/dist/handlebars.min.js"></script>

        <!--
            DataFormsJS
            https://www.dataformsjs.com/
        -->
        <script src="../js/DataFormsJS.js"></script>
        <!-- <script src="https://cdn.jsdelivr.net/npm/dataformsjs@5/js/DataFormsJS.min.js"></script> -->
        <script src="https://cdn.jsdelivr.net/npm/dataformsjs@5/js/plugins/navLinks.min.js"></script>
        <script>
            app.lazyLoad = {
                Calculator: 'framework-classes-calc-page.js',
                dataBind: 'https://cdn.jsdelivr.net/npm/dataformsjs@5/js/plugins/dataBind.min.js',
            };
            app.settings.lazyTemplateSelector = '#loading-screen';
        </script>

        <!-- Show a warning for Older browsers (IE, Older Mobile Devices, etc) -->
        <script nomodule src="https://cdn.jsdelivr.net/npm/dataformsjs@5/js/web-components/old-browser-warning.min.js"></script>
    </body>
</html>
