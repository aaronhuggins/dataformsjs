<!doctype html>
<html lang="en" data-show-errors>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <title>DataFormsJS Entry Form Demo | Vue 3</title>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <link rel="stylesheet" href="css/entry-form.css">
        <link rel="canonical" href="https://www.dataformsjs.com/examples/entry-form-demo-hbs.htm">
    </head>
    <body>
        <div id="view" class="container"></div>

        <template id="loading-template">
            <div class="alert alert-info">Loading...</div>
        </template>

        <script type="text/x-template" data-engine="vue" id="error-template">
            <div class="alert alert-danger">Error: {{ errorMessage }}</div>
            <button type="button" class="btn btn-primary reset-data">Reset all Data</button>
        </script>

        <!--
            [data-records] is added as a property to the page object so that
            the [records] property is tracked by Vue.
        -->
        <script
            type="text/x-template"
            data-engine="vue"
            src="html/entry-form-record-list-vue.htm"
            data-default-route
            data-route="/"
            data-page="jsonData"
            data-url="https://www.dataformsjs.com/data/example/entry-form/list"
            data-records
            data-lazy-load="clickUrlAction, sort, filter">
        </script>

        <script
            type="text/x-template"
            data-engine="vue"
            src="html/entry-form-list-editor-vue.htm"
            data-route="/list-editor"
            data-page="entryForm"
            data-url="https://www.dataformsjs.com/data/example/entry-form/list"
            data-save-url="https://www.dataformsjs.com/data/example/entry-form/save-all"
            data-result-success-display-interval="3000"
            data-records
            data-lazy-load="entryForm, listEditor, validation, sort, filter, pickadate, pickadatePlugin">
        </script>

        <!--
            When using [data-page="entryForm"]
            with [data-new-record="true"] the attribute [data-url]
            is optional. It it used here to populate the drop-down list
        -->
        <script
            type="text/x-template"
            data-engine="vue"
            src="html/entry-form-vue.htm"
            data-route="/record/new"
            data-page="entryForm"
            data-new-record="true"
            data-url="https://www.dataformsjs.com/data/example/entry-form/categories"
            data-save-url="https://www.dataformsjs.com/data/example/entry-form/save"
            data-new-record-redirect-url="#/record/:id"
            data-lazy-load="entryForm, validation, pickadate, pickadatePlugin">
        </script>

        <script
            type="text/x-template"
            data-engine="vue"
            src="html/entry-form-vue.htm"
            data-route="/record/:id"
            data-page="entryForm"
            data-url="https://www.dataformsjs.com/data/example/entry-form/record/:id"
            data-save-url="https://www.dataformsjs.com/data/example/entry-form/save"
            data-delete-url="https://www.dataformsjs.com/data/example/entry-form/delete/:id"
            data-delete-record-redirect-url="#/"
            data-lazy-load="entryForm, validation, pickadate, pickadatePlugin">
        </script>

        <!--
        Vue 2 - Dev Latest:
            <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
        Vue 2 - Prod Latest:
            <script src="https://cdn.jsdelivr.net/npm/vue"></script>
        Vue 2 - Prod Specific Version:
            <script src="https://cdn.jsdelivr.net/npm/vue@2.6.11/dist/vue.min.js"></script>

        Vue 3 - Dev Specific Version:
            <script src="https://unpkg.com/vue@3.0.0/dist/vue.global.js"></script>
        Vue 3 - Prod Specific Version:
            <script src="https://unpkg.com/vue@3.0.0/dist/vue.global.prod.js"></script>
        -->
        <script src="https://unpkg.com/vue@3.0.0/dist/vue.global.js"></script>

        <!--
            *** IMPORTANT ***

            This file was updated (2020-09-18) and currently contains features not published
            on the latest npm release. This file is going through final testing and all changes
            will likely be published to npm next week.

            The current npm release works with Handlebars and Vue support will be included
            on the next release.
        -->

        <!-- DataFormsJS -->
        <!-- <script src="https://cdn.jsdelivr.net/npm/dataformsjs@4.5.5/js/DataFormsJS.min.js"></script> -->
        <script src="https://dataformsjs.s3-us-west-1.amazonaws.com/js/pre-release/DataFormsJS.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/dataformsjs@4.5.5/js/pages/jsonData.min.js"></script>
        <!-- <script src="https://cdn.jsdelivr.net/npm/dataformsjs@4.5.5/js/extensions/vue-directives.min.js"></script> -->
        <!-- <script src="../js/extensions/vue-directives.js"></script> -->
        <script src="https://d2xbd92kui7v97.cloudfront.net/js/pre-release/vue-directives.min.js"></script>
        <script>
            // Optimize - lazy load scripts are downloaded asynchronously at the same time.
            // Additionally File 'entryForm.js' uses [Object.assign] which isn't available from IE by default.
            // It gets loaded as a polyfill from [DataFormsJS.js] once the page is ready.
            // In addition to only loading what is needed using [app.lazyLoad] allows for the polyfill
            // to run first.
            app.lazyLoad = {
                // entryForm: 'https://cdn.jsdelivr.net/npm/dataformsjs@4.5.5/js/pages/entryForm.min.js',
                // entryForm: '../js/pages/entryForm.js',
                entryForm: 'https://dataformsjs.s3-us-west-1.amazonaws.com/js/pre-release/entryForm.min.js',
                // listEditor: 'https://cdn.jsdelivr.net/npm/dataformsjs@4.5.5/js/plugins/listEditor.min.js',
                // listEditor: '../js/plugins/listEditor.js',
                listEditor: 'https://dataformsjs.s3-us-west-1.amazonaws.com/js/pre-release/listEditor.min.js',
                validation: 'https://cdn.jsdelivr.net/npm/dataformsjs@4.5.5/js/extensions/validation.min.js',
                // clickUrlAction: 'https://cdn.jsdelivr.net/npm/dataformsjs@4.5.5/js/plugins/clickUrlAction.min.js',
                // clickUrlAction: '../js/plugins/clickUrlAction.js',
                clickUrlAction: 'https://d2xbd92kui7v97.cloudfront.net/js/pre-release/clickUrlAction.min.js',
                sort: 'https://cdn.jsdelivr.net/npm/dataformsjs@4.5.5/js/plugins/filter.min.js',
                filter: 'https://cdn.jsdelivr.net/npm/dataformsjs@4.5.5/js/plugins/sort.min.js',
                pickadate: [
                    // This demo uses the date calendar for pickadate.js. If your project
                    // uses a time picker then uncomment the time scripts and update options
                    // in the [js/plugins/pickadate.js] as needed.
                    'https://code.jquery.com/jquery-3.5.1.min.js',
                    'https://cdn.jsdelivr.net/npm/pickadate@3.5.6/lib/compressed/themes/default.css',
                    'https://cdn.jsdelivr.net/npm/pickadate@3.5.6/lib/compressed/themes/default.date.css',
                    // 'https://cdn.jsdelivr.net/npm/pickadate@3.5.6/lib/compressed/themes/default.time.css',                    
                    'https://cdn.jsdelivr.net/npm/pickadate@3.5.6/lib/compressed/picker.js',
                    'https://cdn.jsdelivr.net/npm/pickadate@3.5.6/lib/compressed/picker.date.js',
                    // 'https://cdn.jsdelivr.net/npm/pickadate@3.5.6/lib/compressed/picker.time.js',
                ],
                pickadatePlugin: [
                    // '../js/extensions/events.js',
                    // '../js/plugins/pickadate.js',
                    'https://d2xbd92kui7v97.cloudfront.net/js/pre-release/events.min.js',
                    'https://d2xbd92kui7v97.cloudfront.net/js/pre-release/pickadate.min.js',
                ],
            };
            app.settings.lazyTemplateSelector = '#loading-template';
        </script>

        <!--
            Custom Authenticaton Code for this App.
            This is the only custom JS code. All form features are handled by
            standard framework scripts and HTML in the Vue Templates.
        -->
        <script src="entry-form-auth.js"></script>

        <!--
            To see how to create custom entry form based on [pages/entryForm.js]
            include the following script:
                <script src="https://cdn.jsdelivr.net/npm/dataformsjs@4.5.5/js/templates/page-from-entryForm.js"></script>

            Then on this page replace:
                data-page="entryForm"
            With:
                data-page="customEntryForm"
        -->

        <!--
            Controllers/Views on this page are define through the above <script> elements.
            An alternative method of adding controllers and views would be to comment out the
            related <script> elements and use JavaScript as shown below.
        -->
        <!--
        <script>
            app
            .addController({
                path: '/',
                defaultRoute: true,
                viewUrl: 'html/entry-form-record-list-vue.htm',
                viewEngine: 'Vue',
                pageType: 'jsonData',
                settings: {
                    url: 'https://www.dataformsjs.com/data/example/entry-form/list'
                },
            })
            .addController({
                path: '/list-editor',
                viewUrl: 'html/entry-form-list-editor-vue.htm',
                viewEngine: 'Vue',
                pageType: 'entryForm',
                settings: {
                    url: 'https://www.dataformsjs.com/data/example/entry-form/list',
                    saveUrl: 'https://www.dataformsjs.com/data/example/entry-form/save-all',
                    resultSuccessDisplayInterval: 3000,
                    records: null,
                },
            })
            .addController({
                path: '/record/new',
                viewUrl: 'html/entry-form-vue.htm',
                viewEngine: 'Vue',
                pageType: 'entryForm',
                settings: {
                    url: 'https://www.dataformsjs.com/data/example/entry-form/categories',
                    saveUrl: 'https://www.dataformsjs.com/data/example/entry-form/save',
                    newRecord: true,
                    newRecordRedirectUrl: '#/record/:id',
                },
            })
            .addController({
                path: '/record/:id',
                viewUrl: 'html/entry-form-vue.htm',
                viewEngine: 'Vue',
                pageType: 'entryForm',
                settings: {
                    url: 'https://www.dataformsjs.com/data/example/entry-form/record/:id',
                    saveUrl: 'https://www.dataformsjs.com/data/example/entry-form/save',
                    deleteUrl: 'https://www.dataformsjs.com/data/example/entry-form/delete/:id',
                    deleteRecordRedirectUrl: '#/',
                },
            });
        </script>
        -->
    </body>
</html>