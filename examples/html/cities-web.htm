<h1>
    <span>Largest Cities in</span> <span url-param="country"></span>, <span url-param="region"></span>
</h1>
    
<nav>
    <a href="#/">Countries</a>
    <a href="#/regions/[country]" url-attr-param="href">Regions</a>
</nav>

<json-data
    url="https://www.dataformsjs.com/data/geonames/cities/:country/:region"
    url-params
    load-only-once="true">
    <is-loading>
        <span class="loading">Loading...</span>
    </is-loading>
    <has-error>
        <span class="error" data-bind="errorMessage"></span>
    </has-error>
    <is-loaded class="flex-col">
        <input
            is="input-filter"
            filter-selector="table"
            placeholder="Enter filter">

        <div class="responsive-table">
            <!--
                Two version of the <data-table> are shown below. The one used for this
                app includes <template> for displaying flag icons and formatting values.

                Another commented version below uses [col-link-template] and [columns]
                to specify which data to show and the link.
            -->
            <data-table
                data-bind="cities"
                highlight-class="highlight"
                labels="Name, Population, Elevation, Timezone, Date Last Modified"
                table-attr="is=sortable-table,
                    data-sort-class-odd=row-odd,
                    data-sort-class-even=row-even">
                <template>
                    <tr>
                        <td>
                            <i class="${country_code.toLowerCase()} flag"></i>
                            <a href="#/city/${geonames_id}">${name}</a></a>
                        </td>
                        <td class="align-right" data-value="${population}">${Format.number(population)}</td>
                        <td class="align-right" data-value="${elevation}">${formatElevation(elevation)}</td>
                        <td>${timezone}</td>
                        <td class="align-right">${Format.date(modification_date)}</td>
                    </tr>
                </template>
            </data-table>
            <!--
            <data-table
                data-bind="cities"
                highlight-class="highlight"
                col-link-template="#/city/:geonames_id"
                columns="geonames_id, name, population, elevation, timezone, modification_date"
                labels="Id, Name, Population, Elevation, Timezone, Date Last Modified"
                table-attr="is=sortable-table,
                    data-sort-class-odd=row-odd,
                    data-sort-class-even=row-even">
            </data-table>
            -->
        </div>
    </is-loaded>
</json-data>