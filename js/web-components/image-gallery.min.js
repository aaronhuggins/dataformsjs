const shadowTmpl=document.createElement("template");shadowTmpl.innerHTML="\n    <style>:host { display:block; cursor:pointer; }</style>\n    <slot></slot>\n";const overlayStyleId="image-gallery-css",overlayStyleCss="\n    body.blur { filter: blur(3px); }\n\n    .image-gallery-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        background-color: rgba(255,255,255,.8);\n        cursor: pointer;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    }\n\n    .image-gallery-overlay img {\n        max-width: 100%;\n        max-height: 100%;\n    }\n";let images=null,imageIndex=null,imageCount=0,overlay=null,overlayImg=null,touchStartX=null;function showOverlay(){loadCss(),(overlay=document.createElement("div")).className="image-gallery-overlay",(overlayImg=document.createElement("img")).addEventListener("load",preloadNextImages),overlayImg.src=images[imageIndex].getAttribute("image"),overlay.appendChild(overlayImg),addOverlayEvents(),document.documentElement.appendChild(overlay),document.querySelector("body").classList.add("blur")}function loadCss(){let e=document.getElementById(overlayStyleId);null===e&&((e=document.createElement("style")).id=overlayStyleId,e.innerHTML=overlayStyleCss,document.head.appendChild(e))}function addOverlayEvents(){overlay.onclick=hideOverlay,document.addEventListener("keydown",handleDocKeyDown),overlay.addEventListener("touchstart",function(e){touchStartX=e.changedTouches[0].screenX}),overlay.addEventListener("touchend",e=>{var a=e.changedTouches[0].screenX;a>touchStartX?changeImage("left"):a<touchStartX&&changeImage("right")})}function handleDocKeyDown(e){switch(e.key){case"ArrowLeft":changeImage("left");break;case"ArrowRight":changeImage("right");break;case"Escape":hideOverlay()}}function hideOverlay(){overlay.parentNode.removeChild(overlay),overlayImg=null,overlay=null,document.removeEventListener("keydown",handleDocKeyDown),document.querySelector("body").classList.remove("blur")}function preloadNextImages(){let e=imageIndex-1;if(-1===e&&(e=imageCount-1),e!==imageIndex){(new Image).src=images[e].getAttribute("image")}let a=imageIndex+1;if(a===imageCount&&(a=0),a!==imageIndex){(new Image).src=images[a].getAttribute("image")}}function changeImage(e){imageIndex="right"===e?imageIndex===imageCount-1?0:imageIndex+1:0===imageIndex?imageCount-1:imageIndex-1,overlayImg.src="",overlayImg.src=images[imageIndex].getAttribute("image")}window.customElements.define("image-gallery",class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).appendChild(shadowTmpl.content.cloneNode(!0)),this.addEventListener("click",this.handleClick)}handleClick(){null!==this.getAttribute("image")?(images=document.querySelectorAll("image-gallery[image]"),imageIndex=Array.from(images).indexOf(this),imageCount=images.length,showOverlay()):console.error("Unable to view large image because <image-gallery> attribute [image] is missing.")}});