import{usingWebComponentsPolyfill,defineExtendsPolyfill}from"./utils.min.js";class LeafletMap extends HTMLDivElement{constructor(){super(),this._map=null}connectedCallback(){this.createMap()}static get observedAttributes(){return["latitude","longitude","zoom","marker"]}attributeChangedCallback(t){LeafletMap.observedAttributes.includes(t)&&this.createMap()}createMap(){if(usingWebComponentsPolyfill())return;const t=parseFloat(this.getAttribute("latitude")),e=parseFloat(this.getAttribute("longitude")),a=parseInt(this.getAttribute("zoom"),10),l=this.getAttribute("marker"),i=[{attr:"latitude",value:t},{attr:"longitude",value:e},{attr:"zoom",value:a}];for(let t=0,e=i.length;t<e;t++)if(isNaN(i[t].value)){const e=this.getAttribute(i[t].attr);if(null!==this.getAttribute("data-bind-attr")&&(null===e||e.startsWith("[")||""===e||"null"===e))return;return console.error("Leaflet Map - Invalid Attribute for ["+i[t].attr+"]"),console.log(i[t].attr),console.log(this.getAttribute(i[t].attr)),void console.log(this)}if(null!==this._map&&(this._map.remove(),this._map=null),this._map=L.map(this).setView([t,e],a),L.tileLayer("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://osm.org/copyright" target="_blank">OpenStreetMap</a> contributors'}).addTo(this._map),null!==l){const a=L.marker([t,e]).addTo(this._map);l&&a.bindPopup(l),a.openPopup()}}}window.customElements.define("leaflet-map",LeafletMap,{extends:"div"}),defineExtendsPolyfill("leaflet-map","div",t=>{t._map=null,LeafletMap.prototype.createMap.apply(t)});