!function(){"use strict";var t={data:{bind:null,templateSelector:null,rootElement:null,rootAttr:null,errorClass:null},html:function(t){var s=this,r=[];function e(t,e){void 0===e&&(e="div"),s.errorClass?r.push("<"+e+' class="'+app.escapeHtml(s.errorClass)+'">'+app.escapeHtml(t)+"</"+e+">"):r.push("<"+e+' style="color:white; background-color:red; padding:0.5rem 1rem; margin:.5rem;">'+app.escapeHtml(t)+"</"+e+">")}function n(){null!==s.rootElement&&r.push("</"+app.escapeHtml(s.rootElement)+">")}function a(){if(null===s.rootAttr)return"";for(var t=s.rootAttr.split(",").map(function(t){return t.trim()}),e="",r=0,n=t.length;r<n;r++){var a,l,i=t[r],o=i.indexOf("=");1<o?(a=i.substr(0,o).trim(),l=i.substr(o+1).trim(),e+=" "+app.escapeHtml(a)+'="'+app.escapeHtml(l)+'"'):e+=" "+app.escapeHtml(i)}return e}var l=t&&t[this.bind]?t[this.bind]:null;if(null===l&&void 0!==app.plugins.dataBind&&"function"==typeof app.plugins.dataBind.getBindValue&&(l=app.plugins.dataBind.getBindValue(this.bind,t)),null===l||Array.isArray(l)&&0===l.length)return"";if(this.templateSelector){if(null!==this.rootElement){if(this.rootElement!==this.rootElement.toLowerCase())return e('<data-list [root-element="name"]> must be all lower-case. Value used: ['+this.rootElement+"]"),n(),r.join("");if(-1!==this.rootElement.indexOf(" "))return e('<data-list [root-element="name"]> cannot contain a space. Value used: ['+this.rootElement+"]"),n(),r.join("");if(!1!==/[&<>"'/]/.test(this.rootElement))return e('<data-list [root-element="name"]> cannot contain HTML characters that need to be escaped. Invalid characters are [& < > " \' /]. Value used: ['+this.rootElement+"]"),n(),r.join("");r.push("<"+app.escapeHtml(this.rootElement)+a()+">")}var i=document.querySelector(this.templateSelector);if(!i)return e("Error <data-list> Template not found from selector: "+this.templateSelector),n(),r.join("");for(var o,p=i.innerHTML,u=/\$\{([^}]+)\}/g,m=0,c=[],d=0;null!==(o=u.exec(p));)if(c.push(JSON.stringify(p.substring(d,o.index))),c.push("String(app.escapeHtml("+o[1]+"))"),d=o.index+o[0].length,1e3<++m)return void app.showErrorAlert("Unexpected Loop Error in <data-list>");c.push(JSON.stringify(p.substring(d,p.length)));for(var h=!1,f=0,g=c.length;f<g;f++){var v=c[f];if(!v.startsWith("String(app.escapeHtml(")&&v.includes("${")){e("Invalid expression: missing `}` character"),h=!0;break}}if(!h)try{for(var E=new Function("item","index","app","format","with(item){return "+c.join(" + ")+"}"),H=0,b=l.length;H<b;H++){var y=l[H];try{r.push(E(y,H,app,app.format))}catch(t){var S="ul"===this.rootElement?"li":"div";e("Item Error - "+t.message,S)}}}catch(t){e("Error Rendering Template - "+t.message)}n()}else{r.push("<ul"+a()+">");for(var x=0,j=l.length;x<j;x++)r.push("<li>"+app.escapeHtml(l[x])+"</li>");r.push("</ul>")}return r.join("")}};app.addControl("data-list",t)}();