!function(){"use strict";var t={data:{bind:null,templateSelector:null,rootElement:null,rootAttr:null,errorClass:null,templateReturnsHtml:null,listItemName:null},html:function(t){var o=this,r=[];function e(t,e){void 0===e&&(e="div"),o.errorClass?r.push("<"+e+' class="'+app.escapeHtml(o.errorClass)+'">'+app.escapeHtml(t)+"</"+e+">"):r.push("<"+e+' style="color:white; background-color:red; padding:0.5rem 1rem; margin:.5rem;">'+app.escapeHtml(t)+"</"+e+">")}function n(){null!==o.rootElement&&r.push("</"+app.escapeHtml(o.rootElement)+">")}function a(){if(null===o.rootAttr)return"";for(var t=o.rootAttr.split(",").map(function(t){return t.trim()}),e="",r=0,n=t.length;r<n;r++){var a,l,i=t[r],s=i.indexOf("=");1<s?(a=i.substr(0,s).trim(),l=i.substr(s+1).trim(),e+=" "+app.escapeHtml(a)+'="'+app.escapeHtml(l)+'"'):e+=" "+app.escapeHtml(i)}return e}var l=t&&t[this.bind]?t[this.bind]:null;if(null===l&&void 0!==app.plugins.dataBind&&"function"==typeof app.plugins.dataBind.getBindValue&&(l=app.plugins.dataBind.getBindValue(this.bind,t)),null===l||Array.isArray(l)&&0===l.length)return"";if(this.templateSelector){if(null!==this.rootElement){if(this.rootElement!==this.rootElement.toLowerCase())return e('<data-list [root-element="name"]> must be all lower-case. Value used: ['+this.rootElement+"]"),n(),r.join("");if(-1!==this.rootElement.indexOf(" "))return e('<data-list [root-element="name"]> cannot contain a space. Value used: ['+this.rootElement+"]"),n(),r.join("");if(!1!==/[&<>"'/]/.test(this.rootElement))return e('<data-list [root-element="name"]> cannot contain HTML characters that need to be escaped. Invalid characters are [& < > " \' /]. Value used: ['+this.rootElement+"]"),n(),r.join("");r.push("<"+app.escapeHtml(this.rootElement)+a()+">")}var i=document.querySelector(this.templateSelector);if(!i)return e("Error <data-list> Template not found from selector: "+this.templateSelector),n(),r.join("");for(var s,p=i.innerHTML,u=null!==this.templateReturnsHtml,m=/\$\{([^}]+)\}/g,c=0,h=[],d=0;null!==(s=m.exec(p));)if(h.push(JSON.stringify(p.substring(d,s.index))),u?h.push("String("+s[1].replace(/&amp;/g,"&").replace(/&gt;/g,">").replace(/&lt;/g,"<")+")"):h.push("String(app.escapeHtml("+s[1]+"))"),d=s.index+s[0].length,1e3<++c)return void app.showErrorAlert("Unexpected Loop Error in <data-list>");h.push(JSON.stringify(p.substring(d,p.length)));for(var f=!1,g=0,v=h.length;g<v;g++){var E=h[g];if(!E.startsWith("String(app.escapeHtml(")&&E.includes("${")){e("Invalid expression: missing `}` character"),f=!0;break}}if(!f)try{for(var H=this.listItemName?new Function(this.listItemName,"index","app","escapeHtml","format","return "+h.join(" + ")):new Function("item","index","app","escapeHtml","format","with(item){return "+h.join(" + ")+"}"),b=0,S=l.length;b<S;b++){var x=l[b];try{r.push(H(x,b,app,app.escapeHtml,app.format))}catch(t){var y="ul"===this.rootElement?"li":"div";e("Item Error - "+t.message,y)}}}catch(t){e("Error Rendering Template - "+t.message)}n()}else{r.push("<ul"+a()+">");for(var j=0,w=l.length;j<w;j++)r.push("<li>"+app.escapeHtml(l[j])+"</li>");r.push("</ul>")}return r.join("")}};app.addControl("data-list",t)}();